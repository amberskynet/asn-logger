# ASN Web Example

Этот пример демонстрирует использование ASN WGPU в веб-среде с помощью WebAssembly.

## Сборка

Для сборки web примера используйте:

```bash
# Переход в папку примера
cd examples/ex_web

# Быстрая сборка с помощью скрипта
./build.sh

# Или вручную
wasm-pack build --target web
```

## Запуск

После сборки вы можете запустить пример:

```bash
# Быстрый запуск с помощью скрипта
./run.sh

# Или вручную
python3 -m http.server 8080

# Затем откройте http://localhost:8080 в браузере
```

## Скрипты

- `build.sh` - автоматическая сборка проекта для web
- `run.sh` - запуск локального сервера (автоматически собирает проект если нужно)

## Структура

- `src/lib.rs` - основной код примера
- `Cargo.toml` - зависимости и конфигурация
- `index.html` - HTML страница для тестирования
- `pkg/` - скомпилированные WASM файлы (создается после сборки)

## Функции

- `init_web_app()` - инициализация веб-приложения
- `greet(name)` - приветствие пользователя
- `get_version()` - получение версии приложения

## Тестирование

Откройте `index.html` в браузере и используйте кнопки для тестирования различных функций:

1. **Инициализировать приложение** - запускает `init_web_app()`
2. **Получить версию** - вызывает `get_version()`
3. **Приветствие** - вызывает `greet()` с именем "Пользователь"

## Требования

- Современный браузер с поддержкой WebAssembly
- wasm-pack для сборки
- Локальный сервер для запуска (из-за CORS политик)

## Устранение неполадок

### Ошибка "unreachable" в WASM
Если вы видите ошибку `ex_web_bg.wasm:0x5209 Uncaught RuntimeError: unreachable`, это обычно означает использование несовместимых с WASM функций (например, `std::thread::sleep`). Код примера уже исправлен и использует только web-совместимые функции.
